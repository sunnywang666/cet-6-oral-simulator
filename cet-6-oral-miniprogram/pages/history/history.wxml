<!--pages/history/history.wxml-->
<view class="container">
  <view class="header">
    <text class="title">å†å²è®°å½•</text>
    <text class="subtitle">æŸ¥çœ‹æ‚¨çš„è€ƒè¯•å†å²</text>
  </view>

  <view class="history-list" wx:if="{{records.length > 0}}">
    <view class="history-item" wx:for="{{records}}" wx:key="id" bindtap="viewRecord" data-id="{{item.id}}">
      <view class="item-header">
        <text class="item-date">{{item.dateStr}}</text>
        <text class="item-grade grade-{{item.gradeClass}}">{{item.result.totalGrade}}</text>
      </view>
      <view class="item-content">
        <text class="item-topic">{{item.topicName}}</text>
        <text class="item-mode">{{item.modeText}}</text>
      </view>
      <view class="item-actions">
        <button class="btn-view" catchtap="viewRecord" data-id="{{item.id}}">æŸ¥çœ‹</button>
        <button class="btn-delete" catchtap="deleteRecord" data-id="{{item.id}}">åˆ é™¤</button>
      </view>
    </view>
  </view>

  <view class="empty-state" wx:else>
    <text class="empty-icon">ğŸ“</text>
    <text class="empty-text">æš‚æ— å†å²è®°å½•</text>
    <button class="btn btn-primary" bindtap="goHome">å¼€å§‹è€ƒè¯•</button>
  </view>
</view>



